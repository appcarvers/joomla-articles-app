<ion-navbar *navbar>
  <button menuToggle>
    <ion-icon name="menu"></ion-icon>
  </button>
  <ion-title>Add Article</ion-title>
</ion-navbar>
<ion-content class="article">
  <ion-list>
    <form #addarticleForm="ngForm" novalidate>
      <ion-item>
        <ion-label class="txt-size" floating primary>Article Title</ion-label>
        <ion-input [(ngModel)]="addarticle.articlename" ngControl="articlename" type="text" #articlename="ngForm" required>
        </ion-input>
      </ion-item>
      <p [hidden]="articlename.valid || submitted == false" danger padding-left>
        Article Title is required
      </p>
      <ion-item>
        <ion-label class="txt-size" floating primary>Intro text</ion-label>
        <ion-textarea [(ngModel)]="addarticle.introtext" ngControl="introtext"  #introtext="ngForm" required></ion-textarea>
      </ion-item>
      <p [hidden]="introtext.valid || submitted == false" danger padding-left>
        Intro text is required
      </p>
      <ion-item>
        <ion-label class="txt-size" floating primary>Full text</ion-label>
        <ion-textarea [(ngModel)]="addarticle.fulltext" ngControl="fulltext"  #fulltext="ngForm"></ion-textarea>
      </ion-item>

       <ion-item>
		    <ion-label  class="cat-size" floating primary>Category</ion-label>
			      <ion-select [(ngModel)]="addarticle.cat" ngControl="cat" #cat="ngForm" required>
			     <ion-option *ngFor="#item of items" value="{{item.id}}">{{item.title}}</ion-option>
			  </ion-select>
      </ion-item>
			    <p [hidden]="cat.valid || submitted == false" danger padding-left>
           Category is required
         </p>
		<ion-row>
			<ion-col width-40>
			<span primary floating class="txt-size">Start publishing </span>
				</ion-col>
				<ion-col width-60>
			 <input [(ngModel)]="addarticle.published" ngControl="published"  #published="ngForm"  type="date">
			</ion-col>
		</ion-row>          
		<ion-row>
			<ion-col width-40>
			<span class="txt-size" primary floating>Finish publishing </span>
			</ion-col>
			<ion-col width-60>
		<input [(ngModel)]="addarticle.unpublished" ngControl="unpublished"  #unpublished="ngForm"  type="date">
			</ion-col>
		</ion-row>
		<ion-row><ion-col>
      <ion-label  class="txt-size" primary>Select Image </ion-label>	</ion-col>  
		</ion-row>
		<ion-row>
			<ion-col floating width-50> <button primary block (click)="openCamera()"> From camera </button>  </ion-col>
			<ion-col floating width-50> <button primary block (click)="openAlbums()">  From albums</button> </ion-col>
		</ion-row>
        <ion-row *ngIf="image"> 
                <img width="200px" height="200px" src="{{image}}" />
        </ion-row>   
      <ion-row responsive-sm>
        <ion-col>
          <button floating (click)="submitData(addarticleForm);" primary block>Submit</button>
        </ion-col>
      </ion-row>
    </form>
  </ion-list>
</ion-content>
